日期： 2022-04-11

标签： #学习笔记 #技术 #Android 

学习资料： 
腾讯课堂 - https://ke.qq.com/webcourse/3060320/105200059#taid=13820882639041120&vid=387702298739608471

百度网盘 - https://pan.baidu.com/disk/main?from=homeFlow#/index?category=all&path=%2F%E5%AD%A6%E4%B9%A0%2F%E4%BA%AB%E5%AD%A6VIP%E8%AF%BE%E7%A8%8B%2F2%E6%9C%9F%2F%E3%80%9007%E3%80%91NDK%2F%EF%BC%8801%EF%BC%892021.2.23%20C%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8%E4%B8%8E%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B---derry%E8%80%81%E5%B8%88

---
<br>

## NDK学习内容
- C、C++、JNI的学习
- CMake、Linux、Linux Shell
- 项目实战（MMKV、QQ变声等）
- FFmpeg、RTMP直播里
- OpenCV、OpenGL


## 语法
### 基本语法
```c
#include <stdio.h> // C99 标准库
// <> 寻找系统的资源
// “” 寻找我们自己写的资源
// .h .hpp(声明文件 头文件)
// .c .cpp （实现文件）


// void change(int i); // C语言不允许函数重载。Java、C++可以

void change(int * i); // 在main函数前先声明，保证main函数中可以调用，然后下面再实现函数


// 代码结构
int main() {  // 入口函数, 项目工程中只允许有一个main函数声明
    
    getchar(); // 阻塞程序

	/**
	   printf()函数
	 */
	int i = 100;
    double d = 200;
    float f = 200;
    long l = 100;
    short s = 100;
    char c = 'd';
    
    // 字符串
    char * str = "Derry";

    // 不能随便打印，需要对应的占位符
    printf("i的值是:%d\n", i); // d == 整形
    printf("d的值是:%lf\n", d); // lf == long float
    printf("f的值是:%f\n", f); // f == float
    printf("l的值是:%d\n", l); // d == 长整形
    printf("s的值是:%d\n", s); // s == short
    printf("c的值是:%c\n", c); // c == char
    printf("字符串:%s\n", str); // s == String


	/**
       基本类型占用的字节数(后续过程中，非常常用的) 
       
       int 占几个字节  == 4
       double 占几个字节 == 8
       char 占几个字节 == 8
     */
    
    // sizeof获取字节数
    printf("int 数据类型所占的字节数:%d\n", sizeof(int)); // 输出 4
    printf("double 数据类型所占的字节数:%d\n", sizeof(double)); // 输出 8
    printf("char 数据类型所占的字节数:%d\n", sizeof(char)); // 输出 1

    return NULL; // NULL == 0
}


// 函数不能写在main函数的下面，否则main()函数调用会报错
// void change(int i) { }


// 实现上面void change(int * i)的声明
void change(int * i) {
    *i = 666;
}
```

<br><br>

### 指针基础
```c
#include <stdio.h>

/**
   地址概念: 
   Java 万物皆对象
   C C++(对象) 万物皆指针
   Linux 万物皆文
 */
int main() {
	// =======（P1）【基本概念】======== 
    /**
	   内存地址 == 指针
       指针 == 内存地址
       
       & == 取出变量的地址
       * == 取出地址上存的值

	   %p == 地址输出的占位
	 */
    int number1 = 100000;
    
    printf("number1变量值是:%d\n", number1); // 输出 100000
    printf("number1变量的地址是:%p\n", &number1); // 输出地址 00B3FE90(每次运行都会变)
    printf("&number1地址上的值是:%d\n", *(&number1)); // 输出 100000



    // =======（P2）【指针变量】 ======== 
    /**       
       指针别名、指针变量 == 就是一个变量而已，只不过是指针类型的变量（int * intP、 double * doubleP）  
       
       int * (指向int类型的指针) 
       double * (指向double类型的指针)             
     */

	// 定义基本类型变量
    int number_int = 100;
    double number_double = 200;

	// 定义指针变量
    int * intP = &number_int; 
    double * doubleP = &number_double;
    
    printf("number_int的值是:%d\n", *intP); // 输出 100
    printf("number_double的值是:%lf\n", *doubleP); // 输出 200



	// =======（P3）【通过指针（内存地址）修改值】======== 
    int i = 100;

    // p只接收地址，你给我一个100，不规范
    // int * p = i;
    int * p = &i;

    i = 200;

    printf("i的值是:%d\n", i); // 输出 200

	// 取出&i内存地址指向的值，然后改为300
    *p = 300;

    printf("i的值是:%d\n", i); // 输出 300


    return NULL;
}
```

P1-1
![[1.png|550]]

P1-2
![[2.png|550]]

P2
![[3.png|550]]

P3
![[4.png|550]]

P4
<br><br>

### 指针操作——函数修改一个数
```c
#include <stdio.h>

void change1(int i)
void change2(int * i);

int main() {

    int i = 100;

	change1(i);

    printf("%d\n", i); // 输出 100

    change2(&i);

    printf("%d\n", i); // 输出 666

    return 0;
}

void change1(int i) {
    i = 900; // 仅仅修改了当前函数里的行参i，外边的变量i并没有被修改
}

// 使用指针来修改
void change2(int * i) {
    *i = 666; // 将指针i指向的内存地址中所对应的值，修改成666
}
```

![[5.png|550]]

<br><br>

